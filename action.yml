# https://help.github.com/en/articles/metadata-syntax-for-github-actions

name: 'BEPP - A Cross-Browser Extension Builder'
description: 'Package your extension for multiple browsers quickly and easily (Including Safari)'
author: 'pigeonposse'
inputs:
  file:
    required: false
    description: 'Path for config file.'
runs:
  using: "composite"
  steps:
    - name: Install Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '20' 
    - name: Install pnpm
      run: npm install -g pnpm
      shell: bash
    - name: Install bepp
      run: pnpm install
      shell: bash
    - name: Build bepp core
      run: pnpm --filter core build
      shell: bash
    - name: Build bepp core
      run: node packages/core/build/cjs/index.cjs -v build -c '${{ inputs.file }}''
      shell: bash

branding:
  icon: 'package'
  color: 'purple'
